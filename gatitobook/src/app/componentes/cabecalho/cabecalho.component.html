<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container" *ngIf="user$ | async as user">
    <a class="navbar-brand">
      <i
        class="fa fa-bars me-2"
        style="cursor: pointer"
        (click)="menu.abreMenu()"
        (keyup.space)="menu.abreMenu()"
        *ngIf="user.name"
      >
      </i>
      Gatito Book
    </a>

    <div
      class="collapse navbar-collapse"
      id="navbarSupportedContent"
      *ngIf="user.name"
    >
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['animais']">Animais</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLink]="['animais', 'novo']">Novo animal</a>
        </li>
      </ul>
    </div>

    <app-menu #menu>
      <ul class="list-unstyled">
        <li class="mt-4">
          <a [routerLink]="['animais']">Animais</a>
        </li>
        <li class="mt-4">
          <a [routerLink]="['animais', 'novo']">Novo Animal</a>
        </li>
        <li class="mt-4">
          <button (click)="logout()" class="btn btn-sm btn-primary">
            Logout
          </button>
        </li>
      </ul>
    </app-menu>

    <div *ngIf="user.name; else login">
      <i class="fa fa-user-circle me-2"></i>
      <span class="me-5">{{ user.name }}</span>
      <button (click)="logout()" class="btn btn-sm btn-primary">Logout</button>
    </div>
  </div>
</nav>
<ng-template #login>
  <span class="navbar-text">
    <a [routerLink]="['']">Login</a>
  </span>
</ng-template>
